<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shop bán Mỹ Phẩm</title>
    <link rel="stylesheet" th:href="@{/assets/css/productDetail.css}">
    <link rel="stylesheet" th:href="@{/assets/css/footer.css}">
    <link rel="stylesheet" th:href="@{/assets/css/headers.css}">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
</head>
<body>
<div th:replace="header :: header"></div>


<main role="main" class="mainn">

        <section class="about" >
            <div class="flex items-center about-1">
                <a class="appendix" href="/">Shope</a>
                <i class="fa-solid fa-angle-right"></i>
                <a class="appendix" href="/">Sữa rữa mặt</a>
                <i class="fa-solid fa-angle-right"></i>
                <span class="text-appendix" tabindex="0">
                    <span th:object="${product}">
                        <td  th:text="${product.name}"></td>
                    </span>
                </span>
            </div>
            <div  th:object="${product}" enctype="multipart/form-data">
                    <section class="section-container">
                        <img th:src="@{'/uploads/'+${product.image}}" class="img-circle">
                        <div class="box ">
                            <p class="product-name-detail ">
                                <td  th:text="${product.name}"></td>
                            </p>
                            <div class="box-money">
                                <span class="sp-money" th:text="${#numbers.formatDecimal(product.price, 0, 'COMMA', 3, 'POINT')}">10.00</span>
                            </div>
                            <div class="box-category">
                                <span>Loai San pham :</span>
                                <td th:text="${product.category_product.type}"></td>
                            </div>

                            <div class="sent-product">
                                <h3 class="sent mr-3">Chính sách Trả hàng</h3>
                                <div class="cover mt-0">
                                    <img src="https://deo.shopeemobile.com/shopee/shopee-pcmall-live-sg/productdetailspage/b69402e4275f823f7d47.svg" class="icon-product">
                                    <div class="mr-3">Trả hàng trong 7 ngày</div>
                                    <div class="mr-3">Đổi ý miễn phí</div>
                                    <div class="shopee-drawer" id="pc-drawer-id-2" tabindex="0">
                                        <img alt="icon help" class="gdYMVU" src="https://deo.shopeemobile.com/shopee/shopee-pcmall-live-sg/productdetailspage/be6f27f93268c0f88ded.svg">
                                    </div>
                                </div>
                            </div>

                            <div class=" items-center soluong">
                                <h3 class="soluong1">Số lượng</h3>
                                <div class="items-center">
                                    <div style="margin-right: 15px;">
                                        <div class="soluong2 shopee-input-quantity">
                                            <button aria-label="Decrease" class="suQW3X" onclick="decreaseQuantity()">
                                                <i class="fa-solid fa-minus"></i>
                                            </button>
                                            <input type="text" role="spinbutton" value="1" id="quantityInput" class="suQW3X u00pLG">
                                            <span aria-live="polite" class="Bf9ap6">Số lượng 1</span>
                                            <button aria-label="Increase" class="suQW3X" onclick="increaseQuantity()">
                                                <i class="fa-solid fa-plus"></i>
                                            </button>
                                        </div>
                                    </div>
<!--                                    <div class="soluong3">2399976 sản phẩm có sẵn</div>-->
                                </div>
                            </div>

                           <div class="pl-0">
                               <div class="cover">
                                   <a role="form" method="post" th:href="@{/cart/add/{id}(id=${product.id})}">
<!--                                           th:href="@{/cart/view}">-->
                                           <button type="button" class="btn-button-1">
                                               <i class="fa-solid fa-cart-plus"></i>
                                               <span>Thêm vào giỏ hàng</span>
                                           </button>
                                   </a>
                                   <a role="form" method="post" th:href="@{/cart/addRedirect/{id}(id=${product.id})}">
                                   <button type="button" class="btn-2">
                                       <span class="sp-buy">Mua ngay</span>
                                   </button>
                                   </a>
                               </div>

                               </div>
                            <div>
                                <div class="transport-product">
                                    <div>
                                        <div class="shop-drawer"  tabindex="0">
                                            <i class="icon-protect fa-solid fa-shield"></i>
                                            <div class="real-product flex items-center">
                                                <div class="word-protect">Hàng chính hãng 100%</div>
                                            </div>
                                        </div>
                                    </div>
                                    <div>
                                        <div class="shop-drawer"  tabindex="0">
                                            <div class="div-transport">
                                                <i class="icon-transport fa-solid fa-truck-plane"></i>
                                                <div class="word-transport">Miễn phí vận chuyển từ 500K</div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                           </div>


<!--                            <div class="form-group">-->
<!--                                <textarea name="editor1" id="editor1" rows="10" cols="80" th:field="*{description}"></textarea>-->
<!--                            </div>-->

                    </section>


            </div >
        </section>
    <section class="sec-about mb-0" >
        <div  th:object="${product}" enctype="multipart/form-data">
            <section class="section-container">
                <div class="flex items-center about-1">
                    <div class="section-detail">CHI TIẾT SẢN PHẨM</div>
                </div>
                <div class="detail-product">
                    <span class="detail-product-name">Danh Mục</span>
                    <div class="" style="margin-left: 16px">
                        <a class="appendix" href="/">Shope</a>
                        <i class="fa-solid fa-angle-right"></i>
                        <a class="appendix" href="/">Sữa rữa mặt</a>
                        <i class="fa-solid fa-angle-right"></i>
                        <span class="text-appendix" tabindex="0">
                        <span th:object="${product}">
                            <td  th:text="${product.name}"></td>
                        </span>
                    </span>
                    </div>
                </div>
                <div class="detail-product">
                    <span class="detail-product-name">Thương Hiệu</span>
                    <p class="detail-product-trademark">
                        <td  th:text="${product.trademark}"></td>
                    </p>
                </div>
                <div class="detail-product">
                    <span class="detail-product-name ">Loai Da</span>
                    <p class="detail-product-trademark" style="margin-left: 31px">
                        <td  th:text="${product.skinType}"></td>
                    </p>
                </div>
                <div class="detail-product">
                    <span class="detail-product-name">Công Thức</span>
                    <p class="detail-product-trademark " style="margin-left: 11px">
                        <td  th:text="${product.shape}"></td>
                    </p>
                </div>
                <div class="detail-product">
                    <span class="detail-product-name">Trọng Lượng</span>
                    <p class="detail-product-trademark">
                        <td  th:text="${product.weight}"></td>
                    </p>
                </div>
                <div class="detail-product">
                    <span class="detail-product-name">Thể Tích</span>
                    <p class="detail-product-trademark " style="margin-left: 23px">
                        <td  th:text="${product.volume}"></td>
                    </p>
                </div>

                <div class="flex items-center about-1">
                    <div class="section-detail">MÔ TẢ SẢN PHẨM</div>
                </div>

                <div class="detail-product">
                    <p class="detail-product-description">
                        <td  th:text="${product.description}"></td>
                    </p>
                </div>


                    <!--                            <div class="form-group">-->
                    <!--                                <textarea name="editor1" id="editor1" rows="10" cols="80" th:field="*{description}"></textarea>-->
                    <!--                            </div>-->

            </section>


        </div >
    </section>
    <section class="sec-about" >
        <div  th:object="${product}" enctype="multipart/form-data">
            <section class="section-container">
                <div class="flex items-center about-1">
                    <div class="section-detail">ĐÁNH GIÁ SẢN PHẨM</div>
                </div>

                <div class="container-comment" th:each="user1 : ${userList}" th:object="${product}">
                    <div class="comment-detail" th:each="comment : ${user1.comments}">
                        <div style="display: flex"  th:if="${comment.product_comment != null && comment.product_comment.id == product.id}">
                        <div class="name-comment">
                        </div>
                            <div>
                                <div class="detail-commentContext">
                                    <div th:text="${user1.fullName}"></div>
                                    <div th:text="${comment.content}"></div>

                                </div>
                                <div style="margin-left: 20px;">
                                    <div th:text="${comment.getTimeAgo()}"></div> <!-- Hiển thị thời gian so với hiện tại -->
                                </div>
                            </div>

<!--                            <div th:if="${user == comment.user_comment}">-->
                                <i th:if="${user == comment.user_comment}" class="fa-solid fa-ellipsis icon-all"></i>
<!--                            </div>-->
                            <div class="action-buttons">
                                <div class="container-editComment">
                                    <form  id="edit-form"  role="form" method="post" th:action="@{/comment-edit}">
                                        <input type="hidden" name="commentId" th:value="${comment.id}" />
                                        <input type="text" name="commentContent" class="comment-prod" >
                                        <button style="background-color: #e4e5e2;">
                                            <i class="fa-solid fa-location-arrow"></i>
                                        </button>
                                    </form>
                                    <button  id="edit-button" style="background-color: #e4e5e2;"  >Chinh sua</button>
                                  <form role="form" method="post" th:action="@{/comment-delete}">
                                      <input type="hidden"  name="commentId" th:value="${comment.id}" />
                                      <button type="submit" style="background-color: #e4e5e2;">Xoa</button>
                                  </form>

                                </div>
                            </div>
                        </div>
                    </div>
                </div>
<!--                </div>-->

                <div>
                    <form class="form-add-located" role="form" method="post" th:action="@{/comment-add}" th:object="${comment}">
                        <input type="hidden" name="productId" th:value="${product.id}" />
                        <input type="text" class="comment-prod" id="exampleInputEmail1" placeholder="Vui lòng nhâp đánh giá..." th:field="*{content}">
                        <button style="background-color: white">
                            <i class="fa-solid fa-location-arrow"></i>
                        </button>
                    </form>

                </div>

            </section>


        </div >
    </section>

</main>
<!--</section>-->
<div th:replace="footer :: footer"></div>




<script th:src="@{/assets/js/script.js}"></script>
</body>
</html>